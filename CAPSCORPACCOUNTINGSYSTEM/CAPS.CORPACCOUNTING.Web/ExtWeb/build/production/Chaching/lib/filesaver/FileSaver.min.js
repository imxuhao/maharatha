/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(H){if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var q=H.document,C=function(){return H.URL||H.webkitURL||H},z=q.createElementNS("http://www.w3.org/1999/xhtml","a"),F="download" in z,B=function(c){var a=new MouseEvent("click");c.dispatchEvent(a)},K=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),G=H.webkitRequestFileSystem,k=H.requestFileSystem||G||H.mozRequestFileSystem,x=function(a){(H.setImmediate||H.setTimeout)(function(){throw a},0)},J="application/octet-stream",I=0,E=500,h=function(a){var c=function(){if(typeof a==="string"){C().revokeObjectURL(a)}else{a.remove()}};if(H.chrome){c()}else{setTimeout(c,E)}},A=function(f,c,m){c=[].concat(c);var d=c.length;while(d--){var a=f["on"+c[d]];if(typeof a==="function"){try{a.call(f,m||f)}catch(l){x(l)}}}},j=function(a){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)){return new Blob(["\ufeff",a],{type:a.type})}return a},g=function(u,w,c){if(!c){u=j(u)}var r=this,a=u.type,d=false,f,e,n=function(){A(r,"writestart progress write writeend".split(" "))},i=function(){if(e&&K&&typeof FileReader!=="undefined"){var m=new FileReader;m.onloadend=function(){var s=m.result;e.location.href="data:attachment/file"+s.slice(s.search(/[,;]/));r.readyState=r.DONE;n()};m.readAsDataURL(u);r.readyState=r.INIT;return}if(d||!f){f=C().createObjectURL(u)}if(e){e.location.href=f}else{var l=H.open(f,"_blank");if(l==undefined&&K){H.location.href=f}}r.readyState=r.DONE;n();h(f)},p=function(l){return function(){if(r.readyState!==r.DONE){return l.apply(this,arguments)}}},v={create:true,exclusive:false},o;r.readyState=r.INIT;if(!w){w="download"}if(F){f=C().createObjectURL(u);z.href=f;z.download=w;setTimeout(function(){B(z);n();h(f);r.readyState=r.DONE});return}if(H.chrome&&a&&a!==J){o=u.slice||u.webkitSlice;u=o.call(u,0,u.size,J);d=true}if(G&&w!=="download"){w+=".download"}if(a===J||G){e=H}if(!k){i();return}I+=u.size;k(H.TEMPORARY,I,p(function(l){l.root.getDirectory("saved",v,p(function(m){var s=function(){m.getFile(w,v,p(function(t){t.createWriter(p(function(y){y.onwriteend=function(L){e.location.href=t.toURL();r.readyState=r.DONE;A(r,"writeend",L);h(t)};y.onerror=function(){var L=y.error;if(L.code!==L.ABORT_ERR){i()}};"writestart progress write abort".split(" ").forEach(function(L){y["on"+L]=r["on"+L]});y.write(u);r.abort=function(){y.abort();r.readyState=r.DONE};r.readyState=r.WRITING}),i)}),i)};m.getFile(w,{create:false},p(function(t){t.remove();s()}),p(function(t){if(t.code===t.NOT_FOUND_ERR){s()}else{i()}}))}),i)}),i)},D=g.prototype,b=function(c,a,d){return new g(c,a,d)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(c,a,d){if(!d){c=j(c)}return navigator.msSaveOrOpenBlob(c,a||"download")}}D.abort=function(){var a=this;a.readyState=a.DONE;A(a,"abort")};D.readyState=D.INIT=0;D.WRITING=1;D.DONE=2;D.error=D.onwritestart=D.onprogress=D.onwrite=D.onabort=D.onerror=D.onwriteend=null;return b}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else{if(typeof define!=="undefined"&&define!==null&&define.amd!=null){define([],function(){return saveAs})}};